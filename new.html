<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotion Stream</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/new.css') }}" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="{{ url_for('static', filename='https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&display=swap') }}" rel="stylesheet">
    <style>
        /* Add CSS to hide the record section and authorization section */
        .hidden {
            display: none;
        }
        #logout-btn {
            padding: 10px 20px;
            background-color: #ff3b30;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        #logout-btn:hover {
            background-color: #ff6347;
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" class="logo-img">
                <div id="text"> EMOTION STREAM</div>  
            </div>
            <ul class="nav-links">
                <a href="#home"><li>Home</li></a>
                <a href="#record"><li>Record</li></a>
                <a href="#aboutus"><li>About Us</li></a>
            </ul>
        </nav>
    </header>
    
    <!-- HOME SECTION -->
    <section id="home" class="home-section">
        <div class="home-content">
            <h1>Emotion Stream</h1>
            <h3>Feel the Beat, Live the Mood.</h3>
            <p>Emotion Stream is the ultimate way to personalize and enjoy music and podcasts that match your mood.
                Discover a new level of immersive audio entertainment on any device with Emotion Stream.
            </p>
        </div>
    </section>
    
    <!-- AUTHORIZATION SECTION -->
    <section id="authorization" class="authorization-section">
        <h2>Authorize with Spotify</h2>
        <p>Please log in to use Emotion Stream. Click the button below to authorize:</p>
        <a href="/authorize" class="btn">Authorize with Spotify</a>
    </section>

    <!-- RECORD SECTION -->
    <section id="record" class="record-section hidden" data-authorized="{{ session.get('access_token') is not none | tojson }}">
        <div class="top-content">
            <h2>Feel the Beat</h2>
            <p>Capture your mood, let Emotion Stream curate your playlist. Record with emotion, play with passion.
            Your music, your feelings, perfectly synced. </p>
        </div>
        <!-- <div class="card-container"> -->
            <!-- Card 1: Record your voice -->
            <!-- <div class="card">
                <h3>Record Your Voice</h3>
                <p>Capture your voice to get personalized music and playlists that match your mood.</p>
                <button id="start-recording">Start Recording</button>
        <button id="stop-recording" disabled>Stop Recording</button>
        <form id="uploadForm" method="POST" action="/record" enctype="multipart/form-data">
            <input type="file" id="audioFile" name="file" hidden>
            <button type="submit" id="submitRecording" disabled>Submit Recording</button>
        </form> -->


             
            </div>
            <!-- Card 2: Upload file -->
            <div class="card">
                <h3>Upload a File</h3>
                <p>Upload an audio file to let Emotion Stream analyze your mood and create a playlist for you.</p>
                
                
                <form method="POST" action="/predict" enctype="multipart/form-data">
                    <input type="file" class="upload-btn" id="upload-file" name="file" accept="audio/*" required>
                    <input type="submit" value="Upload and Predict">
                </form>
                <p class="instruction">Press "Choose File" to upload.</p>
            </div>
            <section>
            <div class="ipad-iphone-img">
                <img src="{{ url_for('static', filename='images/ipad-iphone.png') }}" alt="ipad iphone">
            </div>
            </section>
   
        </div>
    </section>
    <section id="logout-section" class="hidden">
        <div id="logout">
            <button id="logout-btn" onclick="logoutFromSpotify()">Logout</button>
        </div>
    </section>
        
    

    <!-- ABOUT SECTION -->
    <div class="about-section" id="aboutus">
        <section class="team-section">
            <h2>MEET OUR MEMBERS</h2>
            <div class="team-cards">
                <div class="team-card">
                    <img src="{{ url_for('static', filename='images/Kamran.jpeg') }}" alt="Kamran Ajaz Shah" id="Kamran">
                    <h3>Kamran Ajaz Shah</h3>
                    <p>8th Semester, SSM College</p>
                </div>
                <div class="team-card">
                    <img src="path_to_image_zarnain.jpg" alt="Zarnain">
                    <h3>Zarnain</h3>
                    <p>8th Semester, SSM College</p>
                </div>
                <div class="team-card">
                    <img src="{{ url_for('static', filename='images/Shahid.jpeg') }}" alt="Shahid ZahoorKoul" id="Shahid">
                    <h3>Shahid ZahoorKoul</h3>
                    <p>8th Semester, SSM College</p>
                </div>
            </div>
        </section>
        <div class="container1">
            <div class="image">
                <img src="{{ url_for('static', filename='images/yellow-removebg-preview.png') }}" alt="Emotion Stream Image" class="headphone">
            </div>
            <div class="text-content">
                <h2>The idea of the website</h2>
                <p>At Emotion Stream, our mission is to revolutionize the way you experience music by harnessing the power of advanced technologies and emotional intelligence. Our platform is designed to enhance your listening journey by providing personalized music recommendations tailored to your current mood.</p>
                <p>By leveraging cutting-edge emotion recognition technologies, we analyze your emotional state to curate a soundtrack that perfectly complements how you’re feeling. Whether you’re seeking uplifting tunes to brighten your day or soothing melodies to help you relax, Emotion Stream is dedicated to creating a truly immersive and personalized musical experience.</p>
                <p>Our goal is to connect you with music that resonates with your emotions, making each listening session uniquely enjoyable and meaningful.</p>
                <hr>
            </div>
        </div>
    </div>
    <section>
        <button id="start-recording">Start Recording</button>
        <button id="stop-recording" disabled>Stop Recording</button>
        <form id="uploadForm" method="POST" action="/record" enctype="multipart/form-data">
            <input type="file" id="audioFile" name="file" hidden>
            <button type="submit" id="submitRecording" disabled>Submit Recording</button>
        </form> 
    </section>

    <!-- FOOTER -->
    <footer>
        <section class="footer-upper">
            <div class="container2">
                <div class="footer-links">
                    <h4>Lorem ipsum</h4>
                    <ul>
                        <li>Lorem</li>
                        <li>Lorem</li>
                        <li>Lorem</li>
                        <li>Lorem</li>
                        <li>Lorem </li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Lorem ipsum</h4>
                    <ul>
                        <li>Lorem ipsum</li>
                        <li>Lorem ipsum</li>
                        <li>Lorem ipsum</li>
                        <li>Lorem ipsum</li>
                        <li>Lorem ipsum</li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Lorem ipsum</h4>
                    <ul>
                        <li>Lorem ipsum</li>
                        <li>Lorem ipsum</li>
                        <li>Lorem ipsum</li>
                        <li>Lorem ipsum</li>
                        <li>Lorem ipsum</li>
                    </ul>
                </div>
            </div>
        </section>
        <section class="footer-lower">
            <p>Copyright &copy;2024 Emotion Stream</p>
        </section>
    </footer>

    
       
   

    <script src="{{ url_for('static', filename='js/new.js') }}"></script>

<!-- <script>let mediaRecorder;
    let audioChunks = [];
    let audioBlob;

    document.getElementById("recordButton").addEventListener("click", async () => {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        mediaRecorder = new MediaRecorder(stream);

        mediaRecorder.start();
        document.getElementById("recordButton").disabled = true;
        document.getElementById("stopButton").disabled = false;

        mediaRecorder.addEventListener("dataavailable", event => {
            audioChunks.push(event.data);
        });

        mediaRecorder.addEventListener("stop", () => {
            audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
            audioChunks = [];
            const audioFile = new File([audioBlob], "recording.wav", { type: "audio/wav" });

            const fileInput = document.getElementById("audioFile");
            const dataTransfer = new DataTransfer();
            dataTransfer.items.add(audioFile);
            fileInput.files = dataTransfer.files;

            document.getElementById("submitButton").disabled = false;
        });
    });

    document.getElementById("stopButton").addEventListener("click", () => {
        mediaRecorder.stop();
        document.getElementById("recordButton").disabled = false;
        document.getElementById("stopButton").disabled = true;
    });
</script> -->
</body>
</html>
